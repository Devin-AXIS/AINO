 AINO 无代码系统构建平台 产品文档

1. 产品背景与定位

AINO 是一个面向 应用快速构建 的无代码系统平台。
目标：通过 模块化 + 自定义能力，让用户在无需传统后端开发的情况下，就能快速构建具备业务逻辑、数据结构和交互能力的应用。

平台定位：
	•	研发友好：所有功能都有明确 API 接口，可以逐步对接前端 AINO-studio。
	•	扩展性强：支持本地模块与第三方远程模块，可插拔式接入。
	•	长期稳定：核心基于 Hono + Drizzle + Postgres，保证极简但能支撑未来演进。

⸻

2. 总体目标
	1.	提供一个 轻量级、模块化 的应用构建框架。
	2.	用户可自定义：字段、表单、目录、关系。
	3.	模块化设计：本地模块可快速开发，第三方模块可远程调用。
	4.	保持后端最小化：仅做必要的数据存储、用户认证、模块注册。
	5.	所有 API 可逐步替换前端 AINO-studio 的本地数据，形成真实系统闭环。

⸻

3. 核心能力
	•	应用管理：支持创建、管理应用。
	•	目录管理：应用内的业务实体目录，可自定义字段与表单。
	•	字段管理：支持基础字段（文本、数值、时间）以及 JSON 扩展。
	•	表单与关系：通过目录与字段组合，实现数据表单与对象关系。
	•	模块化扩展：本地/远程模块可插拔，远程模块通过 Manifest 描述能力。
	•	用户与权限：统一用户体系，模块依赖宿主用户上下文（ID + 角色）。
	•	审计日志：记录用户操作，支持配置保存周期。

⸻

4. 平台模块说明

4.1 用户模块
	•	提供基础的用户信息（ID、姓名、角色、联系方式）。
	•	支持注册、登录、个人信息查询。
	•	所有模块调用时，都依赖用户上下文。

4.2 目录与字段
	•	每个应用由若干目录组成，目录是数据对象的集合。
	•	字段可自定义，支持：文本、数字、时间、布尔、JSON。
	•	可通过 JSON Schema/Zod 来约束字段，保证类型安全。

4.3 表单与关系
	•	目录下的字段可组合为表单。
	•	目录之间可建立关系（如一对多、多对多）。
	•	关系信息存储在独立表中。

4.4 模块系统
	•	本地模块：内置在平台内，直接通过 API 提供服务。
	•	远程模块：通过 Manifest 描述（key、版本、路由），平台通过 HMAC 验证代理调用。
	•	模块必须依赖宿主用户上下文，不能绕过平台直接操作数据。

4.5 审计与日志
	•	所有重要操作写入 audit_logs。
	•	支持配置日志保存时间。

⸻

5. 技术架构概览
	•	后端框架：Hono（轻量、Web 标准 API、易与 AI 协作）。
	•	数据库：Postgres + Drizzle ORM（类型安全、支持 JSONB、自定义字段）。
	•	前端：AINO-studio（已有交互，逐步替换本地数据为真实 API）。
	•	模块机制：本地模块用 app.route 接入，远程模块通过 /api/remote/:key/* 代理。
	•	身份与安全：
	•	用户认证：JWT
	•	模块安全：HMAC 签名
	•	基础保护：CORS、Secure Headers、限流、压缩

⸻

6. 使用约束与原则
	1.	API 必须有 DTO（Zod 校验），确保前后端数据契约一致。
	2.	三层架构：routes → service → repo，避免逻辑混乱。
	3.	数据库表最小化：仅为当前要对接的 API 创建对应表。
	4.	模块统一用户态：所有模块必须依赖平台提供的用户上下文。
	5.	远程模块必须有 Manifest，由平台代理调用，保证安全与统一入口。
	6.	日志与审计不可跳过，保证系统可追溯。

⸻

7. 典型场景举例
	•	自定义表单应用：企业 HR 创建“员工目录”，增加字段（部门、职位），生成表单，直接使用。
	•	电商模块接入：接入远程“商品目录”模块，通过用户上下文与宿主平台打通。
	•	插件化扩展：本地模块提供审批流；第三方远程模块提供支付功能；均通过 Manifest 注册到平台。

⸻

✅ 以上就是 重写后的研发型产品文档。
特点：
	•	内容完整（你 PDF 的每一块信息都保留了，没有删掉）。
	•	去掉重复，分层清晰。
	•	直接指导后端/前端对接 API、扩展模块。

⸻

要不要我再帮你写一个 最小 API 开发规范（研发约束清单），放到这个文档里，开发时一眼就知道“一个 API 要怎么写”？