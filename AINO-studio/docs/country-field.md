# 国家字段功能说明

## 概述

国家字段是一个预设字段类型，提供全球国家/地区的选择功能。用户可以从包含200多个国家和地区的列表中选择，支持搜索功能。

## 功能特性

### 1. 数据源
- 包含200+个国家和地区
- 使用ISO 3166-1 alpha-2标准国家代码
- 支持中文显示名称
- 按字母顺序排列

### 2. 用户界面
- 下拉选择器界面
- 实时搜索功能（支持中文名称和英文代码搜索）
- 显示国家名称和代码
- 响应式设计，适配移动端

### 3. 技术实现
- 基于 `CountrySelect` 组件
- 数据存储在 `lib/country-data.ts`
- 支持表单集成
- TypeScript 类型安全

## 使用方法

### 1. 在字段管理中添加国家字段

1. 进入应用管理 → 字段管理
2. 点击"添加字段"
3. 选择"预设字段" → "国家/地区"
4. 配置字段属性（标签、键名、是否必填等）
5. 保存字段

### 2. 在表单中使用

国家字段会自动渲染为下拉选择器，用户可以通过以下方式选择：

- 点击下拉框查看所有国家
- 在搜索框中输入国家名称或代码进行筛选
- 选择后显示国家中文名称

### 3. 数据存储

- 存储格式：国家中文名称（如："中国"、"美国"）
- 支持空值
- 可设置为必填字段

## 文件结构

```
lib/
├── country-data.ts          # 国家数据定义
components/
├── country-select.tsx       # 国家选择组件
docs/
└── country-field.md         # 本文档
```

## 数据格式

```typescript
export type CountryNode = {
  value: string    // ISO 3166-1 alpha-2 代码
  label: string    // 中文显示名称
  code: string     // ISO 代码（与value相同）
}
```

## 示例数据

```typescript
{ value: "CN", label: "中国", code: "CN" }
{ value: "US", label: "美国", code: "US" }
{ value: "JP", label: "日本", code: "JP" }
// ... 更多国家
```

## 测试

访问 `/test-country` 页面可以测试国家选择组件的功能。

## 扩展说明

如需添加更多国家或修改现有数据，请编辑 `lib/country-data.ts` 文件。

## 注意事项

1. 国家数据按字母顺序排列，便于查找
2. 搜索功能支持模糊匹配
3. 组件已集成到表单字段系统中
4. 支持国际化（目前提供中文界面）
